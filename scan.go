package main
 
import (
   "net"
   "fmt"
   "strconv"
   "strings"
   "time"
   "os"
   "sync"
)
 
var startbanner string = "[38;2;129;0;255;48;2;0;0;0m [38;2;131;0;255;48;2;0;0;0m [38;2;132;0;255;48;2;0;0;0m [38;2;133;0;255;48;2;0;0;0m [38;2;135;0;255;48;2;0;0;0mâ–ˆ[38;2;136;0;255;48;2;0;0;0mâ–ˆ[38;2;137;0;255;48;2;0;0;0mâ–ˆ[38;2;139;0;255;48;2;0;0;0mâ–ˆ[38;2;140;0;255;48;2;0;0;0mâ–ˆ[38;2;141;0;255;48;2;0;0;0mâ–ˆ[38;2;143;0;255;48;2;0;0;0m [38;2;144;0;255;48;2;0;0;0m [38;2;145;0;255;48;2;0;0;0m [38;2;147;0;255;48;2;0;0;0mâ–ˆ[38;2;148;0;255;48;2;0;0;0mâ–ˆ[38;2;149;0;255;48;2;0;0;0mâ–ˆ[38;2;151;0;255;48;2;0;0;0mâ–ˆ[38;2;152;0;255;48;2;0;0;0mâ–ˆ[38;2;153;0;255;48;2;0;0;0mâ–ˆ[38;2;155;0;255;48;2;0;0;0m [38;2;156;0;255;48;2;0;0;0m [38;2;157;0;255;48;2;0;0;0m [38;2;159;0;255;48;2;0;0;0mâ–ˆ[38;2;160;0;255;48;2;0;0;0mâ–ˆ[38;2;161;0;255;48;2;0;0;0mâ–ˆ[38;2;163;0;255;48;2;0;0;0mâ–ˆ[38;2;164;0;255;48;2;0;0;0mâ–ˆ[38;2;165;0;255;48;2;0;0;0mâ–ˆ[38;2;167;0;255;48;2;0;0;0m [38;2;168;0;255;48;2;0;0;0m [38;2;169;0;255;48;2;0;0;0mâ–ˆ[38;2;171;0;255;48;2;0;0;0mâ–ˆ[38;2;172;0;255;48;2;0;0;0mâ–ˆ[38;2;173;0;255;48;2;0;0;0mâ–ˆ[38;2;175;0;255;48;2;0;0;0mâ–ˆ[38;2;176;0;255;48;2;0;0;0mâ–ˆ[38;2;178;0;255;48;2;0;0;0m [38;2;179;0;255;48;2;0;0;0m [38;2;180;0;255;48;2;0;0;0m [38;2;182;0;255;48;2;0;0;0m [38;2;183;0;255;48;2;0;0;0m [38;2;184;0;255;48;2;0;0;0m [38;2;186;0;255;48;2;0;0;0mâ–ˆ[38;2;187;0;255;48;2;0;0;0mâ–ˆ[38;2;188;0;255;48;2;0;0;0mâ–ˆ[38;2;190;0;255;48;2;0;0;0m [38;2;191;0;255;48;2;0;0;0m [38;2;192;0;255;48;2;0;0;0m [38;2;194;0;255;48;2;0;0;0m [38;2;195;0;255;48;2;0;0;0mâ–ˆ[38;2;196;0;255;48;2;0;0;0mâ–ˆ[38;2;198;0;255;48;2;0;0;0mâ–ˆ[38;2;199;0;255;48;2;0;0;0m [38;2;200;0;255;48;2;0;0;0m [38;2;202;0;255;48;2;0;0;0mâ–ˆ[38;2;203;0;255;48;2;0;0;0mâ–ˆ[38;2;204;0;255;48;2;0;0;0mâ–ˆ[38;2;206;0;255;48;2;0;0;0mâ–ˆ[38;2;207;0;255;48;2;0;0;0mâ–ˆ[38;2;208;0;255;48;2;0;0;0m [38;2;210;0;255;48;2;0;0;0m [38;2;211;0;255;48;2;0;0;0mâ–ˆ[38;2;212;0;255;48;2;0;0;0mâ–ˆ[38;2;214;0;255;48;2;0;0;0mâ–ˆ[38;2;215;0;255;48;2;0;0;0m [38;2;216;0;255;48;2;0;0;0m [38;2;218;0;255;48;2;0;0;0m [38;2;219;0;255;48;2;0;0;0m [38;2;220;0;255;48;2;0;0;0mâ–ˆ[38;2;222;0;255;48;2;0;0;0mâ–ˆ[38;2;223;0;255;48;2;0;0;0m[38;2;127;0;255;48;2;0;0;0m \r\n"+
"[38;2;129;0;255;48;2;0;0;0m [38;2;131;0;255;48;2;0;0;0m [38;2;132;0;255;48;2;0;0;0m [38;2;133;0;255;48;2;0;0;0mâ–ˆ[38;2;135;0;255;48;2;0;0;0mâ–ˆ[38;2;136;0;255;48;2;0;0;0m [38;2;137;0;255;48;2;0;0;0m [38;2;139;0;255;48;2;0;0;0m [38;2;140;0;255;48;2;0;0;0mâ–ˆ[38;2;141;0;255;48;2;0;0;0mâ–ˆ[38;2;143;0;255;48;2;0;0;0m [38;2;144;0;255;48;2;0;0;0mâ–ˆ[38;2;145;0;255;48;2;0;0;0mâ–ˆ[38;2;147;0;255;48;2;0;0;0m [38;2;148;0;255;48;2;0;0;0m [38;2;149;0;255;48;2;0;0;0m [38;2;151;0;255;48;2;0;0;0m [38;2;152;0;255;48;2;0;0;0mâ–ˆ[38;2;153;0;255;48;2;0;0;0mâ–ˆ[38;2;155;0;255;48;2;0;0;0m [38;2;156;0;255;48;2;0;0;0mâ–ˆ[38;2;157;0;255;48;2;0;0;0mâ–ˆ[38;2;159;0;255;48;2;0;0;0m [38;2;160;0;255;48;2;0;0;0m [38;2;161;0;255;48;2;0;0;0m [38;2;163;0;255;48;2;0;0;0m [38;2;164;0;255;48;2;0;0;0mâ–ˆ[38;2;165;0;255;48;2;0;0;0mâ–ˆ[38;2;167;0;255;48;2;0;0;0m [38;2;168;0;255;48;2;0;0;0mâ–ˆ[38;2;169;0;255;48;2;0;0;0mâ–ˆ[38;2;171;0;255;48;2;0;0;0m [38;2;172;0;255;48;2;0;0;0m [38;2;173;0;255;48;2;0;0;0m [38;2;175;0;255;48;2;0;0;0mâ–ˆ[38;2;176;0;255;48;2;0;0;0mâ–ˆ[38;2;178;0;255;48;2;0;0;0m [38;2;179;0;255;48;2;0;0;0m [38;2;180;0;255;48;2;0;0;0m [38;2;182;0;255;48;2;0;0;0m [38;2;183;0;255;48;2;0;0;0m [38;2;184;0;255;48;2;0;0;0mâ–ˆ[38;2;186;0;255;48;2;0;0;0mâ–ˆ[38;2;187;0;255;48;2;0;0;0mâ–ˆ[38;2;188;0;255;48;2;0;0;0mâ–ˆ[38;2;190;0;255;48;2;0;0;0m [38;2;191;0;255;48;2;0;0;0m [38;2;192;0;255;48;2;0;0;0mâ–ˆ[38;2;194;0;255;48;2;0;0;0mâ–ˆ[38;2;195;0;255;48;2;0;0;0mâ–ˆ[38;2;196;0;255;48;2;0;0;0mâ–ˆ[38;2;198;0;255;48;2;0;0;0m [38;2;199;0;255;48;2;0;0;0mâ–ˆ[38;2;200;0;255;48;2;0;0;0mâ–ˆ[38;2;202;0;255;48;2;0;0;0m [38;2;203;0;255;48;2;0;0;0m [38;2;204;0;255;48;2;0;0;0m [38;2;206;0;255;48;2;0;0;0mâ–ˆ[38;2;207;0;255;48;2;0;0;0mâ–ˆ[38;2;208;0;255;48;2;0;0;0m [38;2;210;0;255;48;2;0;0;0mâ–ˆ[38;2;211;0;255;48;2;0;0;0mâ–ˆ[38;2;212;0;255;48;2;0;0;0mâ–ˆ[38;2;214;0;255;48;2;0;0;0mâ–ˆ[38;2;215;0;255;48;2;0;0;0m [38;2;216;0;255;48;2;0;0;0m [38;2;218;0;255;48;2;0;0;0m [38;2;219;0;255;48;2;0;0;0mâ–ˆ[38;2;220;0;255;48;2;0;0;0mâ–ˆ[38;2;222;0;255;48;2;0;0;0m[38;2;223;0;255;48;2;0;0;0m[38;2;127;0;255;48;2;0;0;0m \r\n"+
"[38;2;129;0;255;48;2;0;0;0m [38;2;131;0;255;48;2;0;0;0m [38;2;132;0;255;48;2;0;0;0mâ–ˆ[38;2;133;0;255;48;2;0;0;0mâ–ˆ[38;2;135;0;255;48;2;0;0;0m [38;2;136;0;255;48;2;0;0;0m [38;2;137;0;255;48;2;0;0;0m [38;2;139;0;255;48;2;0;0;0mâ–ˆ[38;2;140;0;255;48;2;0;0;0mâ–ˆ[38;2;141;0;255;48;2;0;0;0m [38;2;143;0;255;48;2;0;0;0mâ–ˆ[38;2;144;0;255;48;2;0;0;0mâ–ˆ[38;2;145;0;255;48;2;0;0;0m [38;2;147;0;255;48;2;0;0;0m [38;2;148;0;255;48;2;0;0;0m [38;2;149;0;255;48;2;0;0;0m [38;2;151;0;255;48;2;0;0;0mâ–ˆ[38;2;152;0;255;48;2;0;0;0mâ–ˆ[38;2;153;0;255;48;2;0;0;0m [38;2;155;0;255;48;2;0;0;0mâ–ˆ[38;2;156;0;255;48;2;0;0;0mâ–ˆ[38;2;157;0;255;48;2;0;0;0m [38;2;159;0;255;48;2;0;0;0m [38;2;160;0;255;48;2;0;0;0m [38;2;161;0;255;48;2;0;0;0m [38;2;163;0;255;48;2;0;0;0mâ–ˆ[38;2;164;0;255;48;2;0;0;0mâ–ˆ[38;2;165;0;255;48;2;0;0;0m [38;2;167;0;255;48;2;0;0;0mâ–ˆ[38;2;168;0;255;48;2;0;0;0mâ–ˆ[38;2;169;0;255;48;2;0;0;0mâ–ˆ[38;2;171;0;255;48;2;0;0;0mâ–ˆ[38;2;172;0;255;48;2;0;0;0mâ–ˆ[38;2;173;0;255;48;2;0;0;0mâ–ˆ[38;2;175;0;255;48;2;0;0;0m [38;2;176;0;255;48;2;0;0;0m [38;2;178;0;255;48;2;0;0;0m [38;2;179;0;255;48;2;0;0;0m [38;2;180;0;255;48;2;0;0;0m [38;2;182;0;255;48;2;0;0;0m [38;2;183;0;255;48;2;0;0;0mâ–ˆ[38;2;184;0;255;48;2;0;0;0mâ–ˆ[38;2;186;0;255;48;2;0;0;0m [38;2;187;0;255;48;2;0;0;0mâ–ˆ[38;2;188;0;255;48;2;0;0;0mâ–ˆ[38;2;190;0;255;48;2;0;0;0mâ–ˆ[38;2;191;0;255;48;2;0;0;0mâ–ˆ[38;2;192;0;255;48;2;0;0;0m [38;2;194;0;255;48;2;0;0;0mâ–ˆ[38;2;195;0;255;48;2;0;0;0mâ–ˆ[38;2;196;0;255;48;2;0;0;0m [38;2;198;0;255;48;2;0;0;0mâ–ˆ[38;2;199;0;255;48;2;0;0;0mâ–ˆ[38;2;200;0;255;48;2;0;0;0mâ–ˆ[38;2;202;0;255;48;2;0;0;0mâ–ˆ[38;2;203;0;255;48;2;0;0;0mâ–ˆ[38;2;204;0;255;48;2;0;0;0mâ–ˆ[38;2;206;0;255;48;2;0;0;0mâ–ˆ[38;2;207;0;255;48;2;0;0;0m [38;2;208;0;255;48;2;0;0;0mâ–ˆ[38;2;210;0;255;48;2;0;0;0mâ–ˆ[38;2;211;0;255;48;2;0;0;0m [38;2;212;0;255;48;2;0;0;0mâ–ˆ[38;2;214;0;255;48;2;0;0;0mâ–ˆ[38;2;215;0;255;48;2;0;0;0m [38;2;216;0;255;48;2;0;0;0m [38;2;218;0;255;48;2;0;0;0mâ–ˆ[38;2;219;0;255;48;2;0;0;0mâ–ˆ[38;2;220;0;255;48;2;0;0;0m [38;2;222;0;255;48;2;0;0;0m[38;2;223;0;255;48;2;0;0;0m[38;2;127;0;255;48;2;0;0;0m \r\n"+
"[38;2;129;0;255;48;2;0;0;0m [38;2;131;0;255;48;2;0;0;0mâ–ˆ[38;2;132;0;255;48;2;0;0;0mâ–ˆ[38;2;133;0;255;48;2;0;0;0m [38;2;135;0;255;48;2;0;0;0m [38;2;136;0;255;48;2;0;0;0m [38;2;137;0;255;48;2;0;0;0mâ–ˆ[38;2;139;0;255;48;2;0;0;0mâ–ˆ[38;2;140;0;255;48;2;0;0;0m [38;2;141;0;255;48;2;0;0;0mâ–ˆ[38;2;143;0;255;48;2;0;0;0mâ–ˆ[38;2;144;0;255;48;2;0;0;0m [38;2;145;0;255;48;2;0;0;0m [38;2;147;0;255;48;2;0;0;0m [38;2;148;0;255;48;2;0;0;0m [38;2;149;0;255;48;2;0;0;0mâ–ˆ[38;2;151;0;255;48;2;0;0;0mâ–ˆ[38;2;152;0;255;48;2;0;0;0m [38;2;153;0;255;48;2;0;0;0mâ–ˆ[38;2;155;0;255;48;2;0;0;0mâ–ˆ[38;2;156;0;255;48;2;0;0;0m [38;2;157;0;255;48;2;0;0;0m [38;2;159;0;255;48;2;0;0;0m [38;2;160;0;255;48;2;0;0;0m [38;2;161;0;255;48;2;0;0;0mâ–ˆ[38;2;163;0;255;48;2;0;0;0mâ–ˆ[38;2;164;0;255;48;2;0;0;0m [38;2;165;0;255;48;2;0;0;0mâ–ˆ[38;2;167;0;255;48;2;0;0;0mâ–ˆ[38;2;168;0;255;48;2;0;0;0m [38;2;169;0;255;48;2;0;0;0m [38;2;171;0;255;48;2;0;0;0m [38;2;172;0;255;48;2;0;0;0mâ–ˆ[38;2;173;0;255;48;2;0;0;0mâ–ˆ[38;2;175;0;255;48;2;0;0;0m [38;2;176;0;255;48;2;0;0;0m [38;2;178;0;255;48;2;0;0;0m [38;2;179;0;255;48;2;0;0;0m [38;2;180;0;255;48;2;0;0;0m [38;2;182;0;255;48;2;0;0;0mâ–ˆ[38;2;183;0;255;48;2;0;0;0mâ–ˆ[38;2;184;0;255;48;2;0;0;0m [38;2;186;0;255;48;2;0;0;0m [38;2;187;0;255;48;2;0;0;0mâ–ˆ[38;2;188;0;255;48;2;0;0;0mâ–ˆ[38;2;190;0;255;48;2;0;0;0m [38;2;191;0;255;48;2;0;0;0m [38;2;192;0;255;48;2;0;0;0mâ–ˆ[38;2;194;0;255;48;2;0;0;0mâ–ˆ[38;2;195;0;255;48;2;0;0;0m [38;2;196;0;255;48;2;0;0;0mâ–ˆ[38;2;198;0;255;48;2;0;0;0mâ–ˆ[38;2;199;0;255;48;2;0;0;0m [38;2;200;0;255;48;2;0;0;0m [38;2;202;0;255;48;2;0;0;0m [38;2;203;0;255;48;2;0;0;0mâ–ˆ[38;2;204;0;255;48;2;0;0;0mâ–ˆ[38;2;206;0;255;48;2;0;0;0m [38;2;207;0;255;48;2;0;0;0mâ–ˆ[38;2;208;0;255;48;2;0;0;0mâ–ˆ[38;2;210;0;255;48;2;0;0;0m [38;2;211;0;255;48;2;0;0;0m [38;2;212;0;255;48;2;0;0;0mâ–ˆ[38;2;214;0;255;48;2;0;0;0mâ–ˆ[38;2;215;0;255;48;2;0;0;0m [38;2;216;0;255;48;2;0;0;0mâ–ˆ[38;2;218;0;255;48;2;0;0;0mâ–ˆ[38;2;219;0;255;48;2;0;0;0m [38;2;220;0;255;48;2;0;0;0m [38;2;222;0;255;48;2;0;0;0m[38;2;223;0;255;48;2;0;0;0m[38;2;127;0;255;48;2;0;0;0m \r\n"+
"[38;2;129;0;255;48;2;0;0;0mâ–ˆ[38;2;131;0;255;48;2;0;0;0mâ–ˆ[38;2;132;0;255;48;2;0;0;0mâ–ˆ[38;2;133;0;255;48;2;0;0;0mâ–ˆ[38;2;135;0;255;48;2;0;0;0mâ–ˆ[38;2;136;0;255;48;2;0;0;0mâ–ˆ[38;2;137;0;255;48;2;0;0;0m [38;2;139;0;255;48;2;0;0;0m [38;2;140;0;255;48;2;0;0;0m [38;2;141;0;255;48;2;0;0;0mâ–ˆ[38;2;143;0;255;48;2;0;0;0mâ–ˆ[38;2;144;0;255;48;2;0;0;0mâ–ˆ[38;2;145;0;255;48;2;0;0;0mâ–ˆ[38;2;147;0;255;48;2;0;0;0mâ–ˆ[38;2;148;0;255;48;2;0;0;0mâ–ˆ[38;2;149;0;255;48;2;0;0;0m [38;2;151;0;255;48;2;0;0;0m [38;2;152;0;255;48;2;0;0;0m [38;2;153;0;255;48;2;0;0;0mâ–ˆ[38;2;155;0;255;48;2;0;0;0mâ–ˆ[38;2;156;0;255;48;2;0;0;0mâ–ˆ[38;2;157;0;255;48;2;0;0;0mâ–ˆ[38;2;159;0;255;48;2;0;0;0mâ–ˆ[38;2;160;0;255;48;2;0;0;0mâ–ˆ[38;2;161;0;255;48;2;0;0;0m [38;2;163;0;255;48;2;0;0;0m [38;2;164;0;255;48;2;0;0;0mâ–ˆ[38;2;165;0;255;48;2;0;0;0mâ–ˆ[38;2;167;0;255;48;2;0;0;0m [38;2;168;0;255;48;2;0;0;0m [38;2;169;0;255;48;2;0;0;0m [38;2;171;0;255;48;2;0;0;0mâ–ˆ[38;2;172;0;255;48;2;0;0;0mâ–ˆ[38;2;173;0;255;48;2;0;0;0m [38;2;175;0;255;48;2;0;0;0m [38;2;176;0;255;48;2;0;0;0m [38;2;178;0;255;48;2;0;0;0m [38;2;179;0;255;48;2;0;0;0m [38;2;180;0;255;48;2;0;0;0mâ–ˆ[38;2;182;0;255;48;2;0;0;0mâ–ˆ[38;2;183;0;255;48;2;0;0;0m [38;2;184;0;255;48;2;0;0;0m [38;2;186;0;255;48;2;0;0;0m [38;2;187;0;255;48;2;0;0;0m [38;2;188;0;255;48;2;0;0;0m [38;2;190;0;255;48;2;0;0;0m [38;2;191;0;255;48;2;0;0;0mâ–ˆ[38;2;192;0;255;48;2;0;0;0mâ–ˆ[38;2;194;0;255;48;2;0;0;0m [38;2;195;0;255;48;2;0;0;0mâ–ˆ[38;2;196;0;255;48;2;0;0;0mâ–ˆ[38;2;198;0;255;48;2;0;0;0m [38;2;199;0;255;48;2;0;0;0m [38;2;200;0;255;48;2;0;0;0m [38;2;202;0;255;48;2;0;0;0mâ–ˆ[38;2;203;0;255;48;2;0;0;0mâ–ˆ[38;2;204;0;255;48;2;0;0;0m [38;2;206;0;255;48;2;0;0;0mâ–ˆ[38;2;207;0;255;48;2;0;0;0mâ–ˆ[38;2;208;0;255;48;2;0;0;0m [38;2;210;0;255;48;2;0;0;0m [38;2;211;0;255;48;2;0;0;0m [38;2;212;0;255;48;2;0;0;0mâ–ˆ[38;2;214;0;255;48;2;0;0;0mâ–ˆ[38;2;215;0;255;48;2;0;0;0mâ–ˆ[38;2;216;0;255;48;2;0;0;0mâ–ˆ[38;2;218;0;255;48;2;0;0;0m [38;2;219;0;255;48;2;0;0;0m [38;2;220;0;255;48;2;0;0;0m [38;2;222;0;255;48;2;0;0;0m[38;2;223;0;255;48;2;0;0;0m[38;2;127;0;255;48;2;0;0;0m \r\n"+
"[38;2;129;0;255;48;2;0;0;0m [38;2;131;0;255;48;2;0;0;0m [38;2;132;0;255;48;2;0;0;0m [38;2;133;0;255;48;2;0;0;0m [38;2;135;0;255;48;2;0;0;0m [38;2;136;0;255;48;2;0;0;0m [0m[[38;2;139;0;255;48;2;0;0;0m#[0m][38;2;141;0;255;48;2;0;0;0m [38;2;143;0;255;48;2;0;0;0mN[38;2;144;0;255;48;2;0;0;0me[38;2;145;0;255;48;2;0;0;0mk[38;2;147;0;255;48;2;0;0;0mo[38;2;148;0;255;48;2;0;0;0m.[38;2;149;0;255;48;2;0;0;0ml[38;2;151;0;255;48;2;0;0;0mt[38;2;152;0;255;48;2;0;0;0md[38;2;153;0;255;48;2;0;0;0m [38;2;155;0;255;48;2;0;0;0mT[38;2;156;0;255;48;2;0;0;0mC[38;2;157;0;255;48;2;0;0;0mP[38;2;159;0;255;48;2;0;0;0m [38;2;160;0;255;48;2;0;0;0mD[38;2;161;0;255;48;2;0;0;0mO[38;2;163;0;255;48;2;0;0;0mO[38;2;164;0;255;48;2;0;0;0mR[38;2;165;0;255;48;2;0;0;0m [38;2;167;0;255;48;2;0;0;0mM[38;2;168;0;255;48;2;0;0;0mA[38;2;169;0;255;48;2;0;0;0mN[38;2;171;0;255;48;2;0;0;0m [38;2;172;0;255;48;2;0;0;0mP[38;2;173;0;255;48;2;0;0;0mr[38;2;175;0;255;48;2;0;0;0mo[38;2;176;0;255;48;2;0;0;0mb[38;2;178;0;255;48;2;0;0;0me[38;2;179;0;255;48;2;0;0;0m [0m&[38;2;182;0;255;48;2;0;0;0m [38;2;183;0;255;48;2;0;0;0mB[38;2;184;0;255;48;2;0;0;0ma[38;2;186;0;255;48;2;0;0;0mn[38;2;187;0;255;48;2;0;0;0mn[38;2;188;0;255;48;2;0;0;0me[38;2;190;0;255;48;2;0;0;0mr[38;2;191;0;255;48;2;0;0;0m [38;2;192;0;255;48;2;0;0;0mg[38;2;194;0;255;48;2;0;0;0mr[38;2;195;0;255;48;2;0;0;0ma[38;2;196;0;255;48;2;0;0;0mb[38;2;198;0;255;48;2;0;0;0mb[38;2;199;0;255;48;2;0;0;0me[38;2;200;0;255;48;2;0;0;0mr[38;2;202;0;255;48;2;0;0;0m [0m[[38;2;204;0;255;48;2;0;0;0m#[0m][38;2;207;0;255;48;2;0;0;0m [38;2;208;0;255;48;2;0;0;0m [38;2;210;0;255;48;2;0;0;0m [38;2;211;0;255;48;2;0;0;0m [38;2;212;0;255;48;2;0;0;0m [38;2;214;0;255;48;2;0;0;0m [38;2;215;0;255;48;2;0;0;0m [38;2;216;0;255;48;2;0;0;0m [38;2;218;0;255;48;2;0;0;0m [38;2;219;0;255;48;2;0;0;0m [38;2;220;0;255;48;2;0;0;0m [38;2;222;0;255;48;2;0;0;0m [38;2;223;0;255;48;2;0;0;0m[0m "

func myint(myintf string, myints string) bool {
   if _, err := strconv.Atoi(myintf); err != nil {
      return false
   }
   if  _, err := strconv.Atoi(myints); err != nil {
      return false
   }
   return true
}
func scannerbanner(){
   fmt.Println(startbanner)
}

func main() {

   if len(os.Args) != 3{
      fmt.Println("[0G[2K[NEKO:scanner] Error: ",os.Args[0]," [neko.ltd 127.0.0.1] [22,53,80,443 1-1024]")
      return
   }
   numsplit := strings.Split(os.Args[2], ",")
   if len(numsplit) >= 2 {
      var myarray []string
      for checknum := range numsplit{
         if  _, err := strconv.Atoi(numsplit[checknum]); err != nil {
            fmt.Println("[0G[2K[NEKO:scanner] Error ",os.Args[0]," [neko.ltd 127.0.0.1] [22,53,80,443 1-1024]")
            return
         }
         //numba , _:= strconv.Atoi(numsplit[checknum])
         myarray = append(myarray, numsplit[checknum])
      }
      scannerbanner()
      scanports(myarray)
   }
   numsplit = strings.Split(os.Args[2], "-")
   if len(numsplit) == 2 {
      if !myint(numsplit[0],numsplit[1]){
         fmt.Println("[0G[2K[NEKO:scanner] Error: ",os.Args[0]," [neko.ltd 127.0.0.1] [22,53,80,443 1-1024]")
         return
      }
      begin , _:= strconv.Atoi(numsplit[0])
      end , _:= strconv.Atoi(numsplit[1])
      scannerbanner()
      scanrange(begin,end)
   }

}

func scanports(portrange []string) {
   counter := 0
   start := unixMs()
   var wg sync.WaitGroup
   wg.Add(len(portrange))
   for port := range portrange {
      counter++
      time.Sleep(1 * time.Millisecond)
      go func(){
         myport := portrange[port]
         defer wg.Done()
         myconn := counter
         done := float64(myconn)/float64(len(portrange))*100
         conn, err := net.DialTimeout("tcp", os.Args[1]+":" + myport, 600 * time.Millisecond)
         fmt.Printf("[0G[2K[NEKO:scanner %.2f%%] TRYING PORT "+myport+" ...", done)
         if conn != nil || err == nil {   
            conn.SetReadDeadline(time.Now().Add(1*time.Second))
            fmt.Printf("[0G[2K[NEKO:scanner %.2f%%] TCP OPEN DOOR "+myport+"[s\r\n", done)
            buf := make([]byte, 40)
            n, err := conn.Read(buf)
            if err != nil {
               conn.Close()
               return
            }
            result := strings.Replace(strings.Replace(string(buf[:n]), "\r\n", "\n", -1), "\n", "", -1)
            fmt.Printf("[u[0G[2K[NEKO:scanner %.2f%%] TCP OPEN DOOR "+myport+" [reponse: '"+result+"']\r\n", done)
            conn.Close()
         }
      }()
   }
   wg.Wait()
   end := unixMs()
   timetaken := float64(end)-float64(start)
   fmt.Println("[0G[2K[NEKO:scanner] Port scann on ports ",os.Args[2],"finished in [",timetaken,"] milliseconds!")
   return
}

func scanrange(small int, big int) {
   if small >= big {
      fmt.Println("[0G[2K[NEKO:scanner] Error: Starting numer is greater than or equal to ending numer")
      return
   }
   var wg sync.WaitGroup
   wg.Add(big-small)
   start := unixMs()
   for i := small; i < big; i++ {
      time.Sleep(1 * time.Millisecond)
      go func(){
         myport := i
         defer wg.Done()
         port := strconv.FormatInt(int64(myport), 10)
         done := float64(myport)/float64(big)*100
         fmt.Printf("[0G[2K[NEKO:scanner %.2f%%] TRYING PORT "+strconv.Itoa(myport)+" ...", done)
         conn, err := net.DialTimeout("tcp", os.Args[1]+":" + port, 600 * time.Millisecond)
         if conn != nil || err == nil {  
            conn.SetReadDeadline(time.Now().Add(1*time.Second))
            fmt.Printf("[0G[2K[NEKO:scanner %.2f%%] TCP OPEN DOOR "+strconv.Itoa(myport)+"[s\r\n", done)
            buf := make([]byte, 40)
            n, err := conn.Read(buf)
            if err != nil {
               conn.Close()
               return
            }
            result := strings.Replace(strings.Replace(string(buf[:n]), "\r\n", "\n", -1), "\n", "", -1)
            fmt.Printf("[1A[0G[2K[NEKO:scanner %.2f%%] TCP OPEN DOOR "+strconv.Itoa(myport)+" [reponse: '"+result+"']\r\n", done)
            conn.Close()
            return
         }
         //fmt.Print("[0G[2K")
      }()
   }
   wg.Wait()
   end := unixMs()
   timetaken := float64(end)-float64(start)
   fmt.Println("[0G[2K[NEKO:scanner] Port scann on ports ",os.Args[2],"finished in [",timetaken,"] milliseconds!")
}

func unixMs() int64 {
    return time.Now().UnixNano() / int64(time.Millisecond)
}